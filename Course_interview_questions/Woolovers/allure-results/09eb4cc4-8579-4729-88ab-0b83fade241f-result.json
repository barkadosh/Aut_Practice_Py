{"name": "TC 01 - Change currency", "status": "broken", "statusDetails": {"message": "FileNotFoundError: [Errno 2] No such file or directory: './screen-shots/screen.png'", "trace": "self = <Woolovers.test_woolovers.TestWooLoversWeb object at 0x00000260F1816710>\n\n    @allure.title(\"TC 01 - Change currency\")\n    @allure.description(\"Change the currency of the prices US Dollar\")\n    def test_change_currency(self):\n        try:\n            self.step_close_popups()\n>           self.step_change_currency()\n\ntest_woolovers.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\na = (<Woolovers.test_woolovers.TestWooLoversWeb object at 0x00000260F1816710>,), kw = {}, __tracebackhide__ = True, params = OrderedDict()\nargs = ['<Woolovers.test_woolovers.TestWooLoversWeb object at 0x00000260F1816710>']\n\n    @wraps(func)\n    def impl(*a, **kw):\n        __tracebackhide__ = True\n        params = func_parameters(func, *a, **kw)\n        args = list(map(lambda x: represent(x), a))\n        with StepContext(self.title.format(*args, **params), params):\n>           return func(*a, **kw)\n\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\allure_commons\\_allure.py:192: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Woolovers.test_woolovers.TestWooLoversWeb object at 0x00000260F1816710>\n\n    @allure.step(\"Approve and close 2 popups\")\n    def step_change_currency(self):\n>       eyes.open(driver, \"Change currency\", \"Change currency on page to US Dollar\")\n\ntest_woolovers.py:51: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <applitools.selenium.eyes.Eyes object at 0x00000260EE6C9690>, driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"7596e5a76f05fde437fa77878e6e9eb5\")>\napp_name = 'Change currency', test_name = 'Change currency on page to US Dollar', viewport_size = None\n\n    def open(\n        self,\n        driver,  # type: WebDriver\n        app_name=None,  # type: Optional[Text]\n        test_name=None,  # type: Optional[Text]\n        viewport_size=None,  # type: Optional[ViewPort]\n    ):\n        # type: (...) -> WebDriver\n        if app_name is not None:\n            self.configure.app_name = app_name\n        if test_name is not None:\n            self.configure.test_name = test_name\n        if viewport_size is not None:\n            self.configure.viewport_size = viewport_size\n        if self.configure.app_name is None:\n            raise ValueError(\"app_name should be set via configuration or an argument\")\n        if self.configure.test_name is None:\n            raise ValueError(\"test_name should be set via configuration or an argument\")\n    \n        if self.configure.is_disabled:\n            pass\n        else:\n            self._runner._set_connection_config(self.configure)  # noqa, friend\n            self._driver = driver\n>           self._eyes_ref = self._commands.manager_open_eyes(\n                self._runner._ref,  # noqa\n                marshal_webdriver_ref(driver),\n                config=self._marshaled_configuration(),\n            )\n\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\applitools\\selenium\\eyes.py:91: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <applitools.selenium.command_executor.CommandExecutor object at 0x00000260F1297690>, manager = {'applitools-ref-id': '1d3b5c94-3aa4-4476-80a2-82e59ca3a163'}\ntarget = {'capabilities': {'acceptInsecureCerts': False, 'browserName': 'chrome', 'browserVersion': '109.0.5414.74', 'chrome': ...ed_dir16936_1897044911'}, ...}, 'serverUrl': 'http://localhost:60357', 'sessionId': '7596e5a76f05fde437fa77878e6e9eb5'}\nsettings = None\nconfig = {'check': {}, 'close': {}, 'open': {'appName': 'Change currency', 'batch': {'id': '60cb56cc-a5a4-4f6b-8a48-06bdda65f74a', 'startedAt': '2023-01-16T14:24:35Z'}, 'testName': 'Change currency on page to US Dollar'}, 'screenshot': {}}\n\n    def manager_open_eyes(self, manager, target=None, settings=None, config=None):\n        # type: (dict, Optional[dict], Optional[dict], Optional[dict]) -> dict\n        payload = {\"manager\": manager}\n        if target is not None:\n            payload[\"target\"] = target\n        if settings is not None:\n            payload[\"settings\"] = settings\n        if config is not None:\n            payload[\"config\"] = config\n>       return self._checked_command(\"EyesManager.openEyes\", payload)\n\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\applitools\\selenium\\command_executor.py:90: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <applitools.selenium.command_executor.CommandExecutor object at 0x00000260F1297690>, name = 'EyesManager.openEyes'\npayload = {'config': {'check': {}, 'close': {}, 'open': {'appName': 'Change currency', 'batch': {'id': '60cb56cc-a5a4-4f6b-8a48-...d_dir16936_1897044911'}, ...}, 'serverUrl': 'http://localhost:60357', 'sessionId': '7596e5a76f05fde437fa77878e6e9eb5'}}\nwait_result = True, wait_timeout = 540\n\n    def _checked_command(self, name, payload, wait_result=True, wait_timeout=9 * 60):\n        # type: (Text, dict, bool, float) -> Optional[Any]\n        response = self._connection.command(name, payload, wait_result, wait_timeout)\n        if wait_result:\n            response_payload = response[\"payload\"]\n>           _check_error(response_payload)\n\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\applitools\\selenium\\command_executor.py:158: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\npayload = {'error': {'message': 'Request \"openEyes\" that was sent to the address \"[POST]https://eyesapi.applitools.com/api/sessi...eyes.js:62:30)\\n    at async C:\\\\snapshot\\\\eyes-universal\\\\node_modules\\\\@applitools\\\\core\\\\dist\\\\ufg\\\\core.js:50:38'}}\n\n    def _check_error(payload):\n        # type: (dict) -> None\n        error = payload.get(\"error\")\n        if error:\n            usdk_error = demarshal_error(error)\n            logger.error(\"Re-raising an error received from SDK server: %r\", usdk_error)\n>           raise usdk_error\nE           applitools.common.errors.USDKFailure: Request \"openEyes\" that was sent to the address \"[POST]https://eyesapi.applitools.com/api/sessions/running\" failed due to unexpected status Unauthorized(401)\nE               at Object.afterResponse (C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\core-base\\dist\\server\\req-eyes.js:101:23)\nE               at C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\req\\dist\\req.js:95:103\nE               at processTicksAndRejections (internal/process/task_queues.js:95:5)\nE               at async req (C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\req\\dist\\req.js:163:20)\nE               at async Object.openEyes (C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\core-base\\dist\\server\\requests.js:54:26)\nE               at async openEyes (C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\core-base\\dist\\open-eyes.js:62:30)\nE               at async C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\core\\dist\\ufg\\core.js:50:38\n\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\applitools\\selenium\\command_executor.py:170: USDKFailure\n\nDuring handling of the above exception, another exception occurred:\n\nself = <Woolovers.test_woolovers.TestWooLoversWeb object at 0x00000260F1816710>\n\n    @allure.title(\"TC 01 - Change currency\")\n    @allure.description(\"Change the currency of the prices US Dollar\")\n    def test_change_currency(self):\n        try:\n            self.step_close_popups()\n            self.step_change_currency()\n        except Exception as error:\n            print(error)\n>           take_screenshot(driver)\n\ntest_woolovers.py:41: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nTakeScreenShot.py:7: in take_screenshot\n    allure.attach.file(image, attachment_type=allure.attachment_type.PNG)\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\allure_commons\\_allure.py:203: in file\n    plugin_manager.hook.attach_file(source=source, name=name, attachment_type=attachment_type, extension=extension)\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\pluggy\\_hooks.py:265: in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\pluggy\\_manager.py:80: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\allure_pytest\\listener.py:233: in attach_file\n    self.allure_logger.attach_file(uuid4(), source, name=name, attachment_type=attachment_type, extension=extension)\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\allure_commons\\reporter.py:160: in attach_file\n    plugin_manager.hook.report_attached_file(source=source, file_name=file_name)\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\pluggy\\_hooks.py:265: in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\pluggy\\_manager.py:80: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n..\\..\\..\\..\\AppData\\Roaming\\Python\\Python311\\site-packages\\allure_commons\\logger.py:53: in report_attached_file\n    shutil.copy2(source, destination)\nC:\\Program Files\\Python311\\Lib\\shutil.py:436: in copy2\n    copyfile(src, dst, follow_symlinks=follow_symlinks)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nsrc = './screen-shots/screen.png'\ndst = 'C:\\\\Users\\\\barka\\\\PycharmProjects\\\\Aut_Practice_Py\\\\Course_interview_questions\\\\Woolovers\\\\allure-results\\\\8104dd85-e23a-41bb-bc70-a1b46a0e1254-attachment.png'\n\n    def copyfile(src, dst, *, follow_symlinks=True):\n        \"\"\"Copy data from src to dst in the most efficient way possible.\n    \n        If follow_symlinks is not set and src is a symbolic link, a new\n        symlink will be created instead of copying the file it points to.\n    \n        \"\"\"\n        sys.audit(\"shutil.copyfile\", src, dst)\n    \n        if _samefile(src, dst):\n            raise SameFileError(\"{!r} and {!r} are the same file\".format(src, dst))\n    \n        file_size = 0\n        for i, fn in enumerate([src, dst]):\n            try:\n                st = _stat(fn)\n            except OSError:\n                # File most likely does not exist\n                pass\n            else:\n                # XXX What about other special files? (sockets, devices...)\n                if stat.S_ISFIFO(st.st_mode):\n                    fn = fn.path if isinstance(fn, os.DirEntry) else fn\n                    raise SpecialFileError(\"`%s` is a named pipe\" % fn)\n                if _WINDOWS and i == 0:\n                    file_size = st.st_size\n    \n        if not follow_symlinks and _islink(src):\n            os.symlink(os.readlink(src), dst)\n        else:\n>           with open(src, 'rb') as fsrc:\nE           FileNotFoundError: [Errno 2] No such file or directory: './screen-shots/screen.png'\n\nC:\\Program Files\\Python311\\Lib\\shutil.py:256: FileNotFoundError"}, "description": "Change the currency of the prices US Dollar", "steps": [{"name": "Approve and close 2 popups", "status": "passed", "start": 1673879084483, "stop": 1673879085038}, {"name": "Approve and close 2 popups", "status": "broken", "statusDetails": {"message": "applitools.common.errors.USDKFailure: Request \"openEyes\" that was sent to the address \"[POST]https://eyesapi.applitools.com/api/sessions/running\" failed due to unexpected status Unauthorized(401)\n    at Object.afterResponse (C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\core-base\\dist\\server\\req-eyes.js:101:23)\n    at C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\req\\dist\\req.js:95:103\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at async req (C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\req\\dist\\req.js:163:20)\n    at async Object.openEyes (C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\core-base\\dist\\server\\requests.js:54:26)\n    at async openEyes (C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\core-base\\dist\\open-eyes.js:62:30)\n    at async C:\\snapshot\\eyes-universal\\node_modules\\@applitools\\core\\dist\\ufg\\core.js:50:38\n", "trace": "  File \"C:\\Users\\barka\\AppData\\Roaming\\Python\\Python311\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\barka\\PycharmProjects\\Aut_Practice_Py\\Course_interview_questions\\Woolovers\\test_woolovers.py\", line 51, in step_change_currency\n    eyes.open(driver, \"Change currency\", \"Change currency on page to US Dollar\")\n  File \"C:\\Users\\barka\\AppData\\Roaming\\Python\\Python311\\site-packages\\applitools\\selenium\\eyes.py\", line 91, in open\n    self._eyes_ref = self._commands.manager_open_eyes(\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\barka\\AppData\\Roaming\\Python\\Python311\\site-packages\\applitools\\selenium\\command_executor.py\", line 90, in manager_open_eyes\n    return self._checked_command(\"EyesManager.openEyes\", payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\barka\\AppData\\Roaming\\Python\\Python311\\site-packages\\applitools\\selenium\\command_executor.py\", line 158, in _checked_command\n    _check_error(response_payload)\n  File \"C:\\Users\\barka\\AppData\\Roaming\\Python\\Python311\\site-packages\\applitools\\selenium\\command_executor.py\", line 170, in _check_error\n    raise usdk_error\n"}, "start": 1673879085038, "stop": 1673879087963}], "attachments": [{"source": "8104dd85-e23a-41bb-bc70-a1b46a0e1254-attachment.png", "type": "image/png"}, {"name": "log", "source": "390db1ac-5222-446a-9a86-e824b1d1a919-attachment.txt", "type": "text/plain"}], "start": 1673879084482, "stop": 1673879088718, "uuid": "b4552747-c2b9-4658-a923-c597124b0220", "historyId": "1723dfd6d4f8f4c1b567c2991be234f4", "testCaseId": "d42521bd866aa7800c02e105fb502744", "fullName": "test_woolovers.TestWooLoversWeb#test_change_currency", "labels": [{"name": "suite", "value": "test_woolovers"}, {"name": "subSuite", "value": "TestWooLoversWeb"}, {"name": "host", "value": "BarLaptop"}, {"name": "thread", "value": "5752-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_woolovers"}]}